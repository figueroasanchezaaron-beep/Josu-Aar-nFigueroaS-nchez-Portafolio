{% extends "base.html" %}
{% block title %}Editar Detalle de Compra{% endblock %}

{% block content %}
<h2>Editar Detalle de Compra</h2>

<form action="" method="POST">
    {% csrf_token %}

    <label>Producto</label>
    <select name="id_producto" class="form-control" required>
        {% for p in productos %}
        <option value="{{ p.id_producto }}" {% if p.id_producto == detalle.id_producto %}selected{% endif %}>
            {{ p.nombre_producto }} â€” ${{ p.precio }}
        </option>
        {% endfor %}
    </select>

    <label>Cantidad</label>
    <input type="number" name="cantidad" class="form-control" value="{{ detalle.cantidad }}" required>

    <label>Costo Unitario</label>
    <input type="number" step="0.01" name="costo_unitario" class="form-control"
           value="{{ detalle.costo_unitario }}" required>

    <button class="btn btn-primary mt-3">Actualizar</button>
</form>

<a href="/detalle_compra/{{ detalle.id_compra }}/" class="btn btn-secondary mt-3">Cancelar</a>

{% endblock %}
